{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams}from'react-router-dom';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function ReservationSystem(){const{id}=useParams();const[book,setBook]=useState(null);const[isAudioBook,setAudioBook]=useState(false);const[isQuickPickUp,setQuickPickUp]=useState(false);const[reservationPeriod,setReservationPeriod]=useState(null);// Toggle Audio Book checkbox\nconst handleAudioCheckBox=()=>{setAudioBook(prev=>!prev);};// Toggle Quick Pick Up checkbox\nconst handleQuickPickUpCheckBox=()=>{setQuickPickUp(prev=>!prev);};// Set Reservation Period (Date input)\nconst handleReservationPeriodChange=event=>{setReservationPeriod(event.target.value);};// Fetch book details on component load\nuseEffect(()=>{axios.get(`/api/books/${id}`).then(response=>{setBook(response.data);}).catch(error=>{console.error(\"Klaida gaunant knygos informaciją:\",error);});},[id]);// Handle form submission to save reservation\nconst handleSubmit=async event=>{event.preventDefault();const reservationData={BookId:id,IsAudioBook:isAudioBook,IsQuickPickUp:isQuickPickUp,ReservationEnd:reservationPeriod};try{const response=await axios.post('/api/reservations/create',reservationData);console.log(\"Reservation saved:\",response.data);}catch(error){console.error(\"Error saving reservation:\",error);}};if(!book){return/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Reserve Book\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Title:\"}),\" \",book.title]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Author:\"}),\" \",book.author]}),/*#__PURE__*/_jsxs(\"form\",{className:\"form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Audio Book\",/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:isAudioBook,onChange:handleAudioCheckBox})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Quick Pick Up\",/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:isQuickPickUp,onChange:handleQuickPickUpCheckBox})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Reservation Period\",/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:reservationPeriod,onChange:handleReservationPeriodChange})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-submit\",type:\"submit\",children:\"Submit\"})]})]});}","map":{"version":3,"names":["React","useState","useEffect","useParams","axios","jsx","_jsx","jsxs","_jsxs","ReservationSystem","id","book","setBook","isAudioBook","setAudioBook","isQuickPickUp","setQuickPickUp","reservationPeriod","setReservationPeriod","handleAudioCheckBox","prev","handleQuickPickUpCheckBox","handleReservationPeriodChange","event","target","value","get","then","response","data","catch","error","console","handleSubmit","preventDefault","reservationData","BookId","IsAudioBook","IsQuickPickUp","ReservationEnd","post","log","children","title","author","className","onSubmit","type","checked","onChange"],"sources":["D:/Development/C#/Book_Reservation_app/reservation_system/src/ReservationSystem.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nexport default function ReservationSystem() {\r\n    const { id } = useParams();\r\n    const [book, setBook] = useState(null);\r\n    const [isAudioBook, setAudioBook] = useState(false);\r\n    const [isQuickPickUp, setQuickPickUp] = useState(false);\r\n    const [reservationPeriod, setReservationPeriod] = useState(null);\r\n\r\n    // Toggle Audio Book checkbox\r\n    const handleAudioCheckBox = () => {\r\n        setAudioBook((prev) => !prev);\r\n    };\r\n\r\n    // Toggle Quick Pick Up checkbox\r\n    const handleQuickPickUpCheckBox = () => {\r\n        setQuickPickUp((prev) => !prev);\r\n    };\r\n\r\n    // Set Reservation Period (Date input)\r\n    const handleReservationPeriodChange = (event) => {\r\n        setReservationPeriod(event.target.value);\r\n    };\r\n\r\n    // Fetch book details on component load\r\n    useEffect(() => {\r\n        axios.get(`/api/books/${id}`)\r\n            .then(response => {\r\n                setBook(response.data);\r\n            })\r\n            .catch(error => {\r\n                console.error(\"Klaida gaunant knygos informaciją:\", error);\r\n            });\r\n    }, [id]);\r\n\r\n    // Handle form submission to save reservation\r\n    const handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n\r\n        const reservationData = {\r\n            BookId: id,\r\n            IsAudioBook: isAudioBook,\r\n            IsQuickPickUp: isQuickPickUp,\r\n            ReservationEnd: reservationPeriod\r\n        };\r\n\r\n        try {\r\n            const response = await axios.post('/api/reservations/create', reservationData);\r\n            console.log(\"Reservation saved:\", response.data);\r\n        } catch (error) {\r\n            console.error(\"Error saving reservation:\", error);\r\n        }\r\n    };\r\n\r\n    if (!book) {\r\n        return <p>Loading...</p>;\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h2>Reserve Book</h2>\r\n            <p><strong>Title:</strong> {book.title}</p>\r\n            <p><strong>Author:</strong> {book.author}</p>\r\n\r\n            <form className=\"form\" onSubmit={handleSubmit}>\r\n                <label>\r\n                    Audio Book\r\n                    <input \r\n                        type=\"checkbox\" \r\n                        checked={isAudioBook} \r\n                        onChange={handleAudioCheckBox} \r\n                    />\r\n                </label>\r\n\r\n                <label>\r\n                    Quick Pick Up\r\n                    <input \r\n                        type=\"checkbox\" \r\n                        checked={isQuickPickUp} \r\n                        onChange={handleQuickPickUpCheckBox} \r\n                    />\r\n                </label>\r\n\r\n                <label>\r\n                    Reservation Period\r\n                    <input \r\n                        type=\"date\" \r\n                        value={reservationPeriod} \r\n                        onChange={handleReservationPeriodChange} \r\n                    />\r\n                </label>\r\n\r\n                <button className=\"btn btn-submit\" type=\"submit\">Submit</button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}